title: Shape Dataset
extends@: dataset

form:
  fields:
    tabs:
      fields:
        features:
          fields:
            header.features:
              fields:

                .coordinates:
                  type: text
                  label: Coordinate Array (required)
                  ordering@: .custom_name
                  description: "TODO: Describe"
                  validate:
                    required: true

        # shape:
        #   type: tab
        #   title: Shape
        #   fields:

        #     shape_section:
        #       type: section
        #       title: Shape Styles
        #       underline: true

        #     shape_stroke_display:
        #       type: display
        #       content: "### Stroke (Outline) Options"
        #       text: These options will be applied to line features and to the outline/border of polygon features.
        #       markdown: true
        #       style: vertical

        #     header.shape.stroke:
        #       type: toggle
        #       label: Draw Stroke (Outline)
        #       description: Whether to draw the outline or border for a polygon feature. (This setting only matters for polygon datasets, as it will be enabled regardless for lines.)
        #       highlight: 1
        #       default: 1
        #       options:
        #         1: PLUGIN_ADMIN.ENABLED
        #         0: PLUGIN_ADMIN.DISABLED
        #       validate:
        #         type: bool

        #     header.shape.color:
        #       type: colorpicker
        #       label: Stroke Color
        #       default: "#3388ff"

        #     header.shape.weight:
        #       type: number
        #       label: Stroke Width (pixels)
        #       default: 3
        #       validate:
        #         min: 1

        #     header.shape.opacity:
        #       type: number
        #       label: Stroke Opacity
        #       description: "A number from 0 (completely transparent) to 1 (completely opaque). Can take up to two decimal places."
        #       default: 1.0
        #       validate:
        #         min: 0
        #         max: 1
        #         step: 0.01

        #     shape_fill_display:
        #       type: display
        #       content: "### Fill Options"
        #       markdown: true
        #       style: vertical

        #     header.shape.fill:
        #       type: toggle
        #       label: Use Fill
        #       description: Whether to fill the inside of a polygon with color. It is recommended to use a transparent fill so that users can still hover over the polygon easily instead of disabling fill completely.
        #       highlight: 1
        #       default: 1
        #       options:
        #         1: PLUGIN_ADMIN.ENABLED
        #         0: PLUGIN_ADMIN.DISABLED
        #       validate:
        #         type: bool

        #     header.shape.fillColor:
        #       type: colorpicker
        #       label: Fill Color
        #       description: Defaults to stroke color.
        #       toggleable: true

        #     header.shape.fillOpacity:
        #       type: number
        #       label: Fill Opacity
        #       description:  "A number from 0 (completely transparent) to 1 (completely opaque). Can take up to two decimal places."
        #       default: 0.2
        #       validate:
        #         min: 0
        #         max: 1
        #         step: 0.01

        #     # Additional Leaflet options (TODO: Do I need these here?)
        #     header.shape.lineCap:
        #       type: hidden
        #     header.shape.lineJoin:
        #       type: hidden
        #     header.shape.dashArray:
        #       type: hidden
        #     header.shape.dashOffset:
        #       type: hidden

        #     shape_active_section:
        #       type: section
        #       title: Shape (Active) Styles
        #       text: These styles are applied when the feature is hovered over or receives focus. All options are toggleable - if not turned on, no change will occur. For example, if stroke color is not toggled, then the feature will not change color when hovered over.
        #       underline: true

        #     shape_active_stroke_display:
        #       type: display
        #       content: "### Stroke (Outline) Options"
        #       markdown: true
        #       style: vertical

        #     header.shape_active.stroke:
        #       type: toggle
        #       label: Draw Stroke (Outline)
        #       description: Whether to draw the outline or border for a polygon feature when it is active. (This setting only matters for polygon datasets, as it will be enabled regardless for lines.)
        #       toggleable: true
        #       highlight: 1
        #       default: 1
        #       options:
        #         1: PLUGIN_ADMIN.ENABLED
        #         0: PLUGIN_ADMIN.DISABLED
        #       validate:
        #         type: bool
                
        #     header.shape_active.color:
        #       type: colorpicker
        #       label: Stroke Color
        #       toggleable: true
        #       default: "#3388ff"

        #     header.shape_active.weight:
        #       type: number
        #       label: Stroke Width (pixels)
        #       toggleable: true
        #       default: 3
        #       validate:
        #         min: 1

        #     header.shape_active.opacity:
        #       type: number
        #       label: Stroke Opacity
        #       description: "A number from 0 (completely transparent) to 1 (completely opaque). Can take up to two decimal places."
        #       toggleable: true
        #       default: 1.0
        #       validate:
        #         min: 0
        #         max: 1
        #         step: 0.01

        #     shape_active_fill_display:
        #       type: display
        #       content: "### Fill Options"
        #       markdown: true
        #       style: vertical

        #     header.shape_active.fill:
        #       type: toggle
        #       label: Use Fill
        #       description: Whether to fill the inside of a polygon with color. It is recommended to use a transparent fill so that users can still hover over the polygon easily instead of disabling fill completely.
        #       toggleable: true
        #       highlight: 1
        #       default: 1
        #       options:
        #         1: PLUGIN_ADMIN.ENABLED
        #         0: PLUGIN_ADMIN.DISABLED
        #       validate:
        #         type: bool

        #     header.shape_active.fillColor:
        #       type: colorpicker
        #       label: Fill Color
        #       description: Defaults to stroke color.
        #       toggleable: true

        #     header.shape_active.fillOpacity:
        #       type: number
        #       label: Fill Opacity
        #       description:  A number from 0 (completely transparent) to 1 (completely opaque). Can take up to two decimal places.
        #       toggleable: true
        #       default: 0.2
        #       validate:
        #         min: 0
        #         max: 1
        #         step: 0.01
            
        #     # Additional Leaflet options
        #     header.shape_active.lineCap:
        #       type: hidden
        #     header.shape_active.lineJoin:
        #       type: hidden
        #     header.shape_active.dashArray:
        #       type: hidden
        #     header.shape_active.dashOffset:
        #       type: hidden